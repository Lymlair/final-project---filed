"use strict";require(["config"],function(){require(["jquery","header","template"],function(l,t,e){new Promise(function(t,n){l("header").load("/html/component/header.html",function(){t()})}).then(function(){t.init(),t.listmenu(),t.searchInput(),t.listMenuMove()}).then(function(){l.ajax({type:"get",url:"http://rap2api.taobao.org/app/mock/117369/upsolve",dataType:"json",success:function(t){var n=e("temp",{product:t.arr1});l("#container").html(n)}})}).then(function(){var h=[];l(".goods-detail").on("click",".add",function(){l(this).parent().find(".addPic").clone(!0).prependTo(l(this).parent()).css({position:"absolute","z-index":999}).animate({left:800,top:-200,width:0,height:0});var t=l(".itemcart").find("span").html(),n=Number(t);l(".itemcart").find("span").html(++n);for(var e=l(this).parent().find(".price").html(),i=l(this).parent().attr("id"),a=l(this).parent().find(".addPic").attr("src"),o=0;o<h.length;o++)if(h[o].no===i){h[o].num++;break}if(o===h.length){var r={no:i,price:parseInt(e.split("ï¿¥")[1]),name:l(this).parent().find(".itemname").html(),src:a,num:1};h.push(r)}var c=JSON.stringify(h);l.cookie("cart",c,{expires:3,path:"/"}),console.log(l.cookie("cart"))})}).then(function(){l("#container").on("click",".itemname",function(){l(location).attr("href","/html/detail.html")}),l("#container").on("click",".addPic",function(){l(location).attr("href","/html/detail.html")})}),l("footer").load("/html/component/footer.html")})});